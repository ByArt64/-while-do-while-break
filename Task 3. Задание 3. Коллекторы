/*Задание 3. Коллекторы
Что нужно сделать
Напишите робота для коллекторов. В самом начале он спрашивает имя должника и сумму долга, а затем начинает требовать у него погашения долга до тех пор, пока тот не будет погашен полностью. Сумма долга должна уменьшаться, если пользователь ввёл сумму, меньшую чем сумма долга. Если пользователь внёс большую сумму, чем требуется для погашения, выведите сообщение о том, какой у него остаток на счету после такой операции. Обеспечьте контроль ввода.

Рекомендации по выполнению
При полной выплате долга необходимо учитывать остаток на счету, если он имеется.

Что оценивается
Правильно считается остаток после полного погашения долга.
Программа прекращает выполнение после того, как долг полностью погашен.
При задании отрицательного долга программа выводит предупреждение и прекращает выполнение.
*/

#include<iostream>
#include <Windows.h>

using namespace std;

int main()
{
	SetConsoleOutputCP(CP_UTF8);
	SetConsoleCP(CP_UTF8);

	float amountDebt;
	float amountInvoice = 0;
	string lastName;
	string firstName;
	string patronymic;

	cout << "Введите Вашу Фамилию ";
	cin >> lastName;
	cout << "Введите Вашt Имя ";
	cin >> firstName;
	cout << "Введите Ваше Отчество ";
	cin >> patronymic;
	cout << "Введите сумму Вашего долга ";
	cin >> amountDebt;
	
	if (amountDebt == 0) {
		cout << "Уважаемый " << lastName << " " << firstName << " " << patronymic << " у Вас нет задолженности ";
	}
	while (amountDebt < 0) {
		cout << "Ошибка, введите положительное число ";
		cin >> amountDebt;
	}

	float defference = amountInvoice - amountDebt;
	
	while (defference < 0) {
		cout << "Уважаемый " << lastName << " " << firstName << " " << patronymic  << "сумма Вашего долга составляет " << defference << "рублей. Внесите недостающие средства!\n";
		float summ;
		cout << "Введите сумму, которую Вы внесли: ";
		cin >> summ;
		defference += summ;
		if (defference == 0) {
			cout << "Уважаемый " << lastName << " " << firstName << " " << patronymic << " у Вас нет задолженности "; break;
		}
		else if (defference > 0) {
			cout << "Уважаемый " << lastName << " " << firstName << " " << patronymic << " на Вашем счете " << defference << "рублей.\n"; break;
		}
	}	
}
